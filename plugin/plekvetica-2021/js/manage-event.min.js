"use strict";var flatpickr_options={locale:"de",enableTime:!0,dateFormat:"d-m-Y H:i:S",altInput:!0,altFormat:"j. F Y - H:i",onChange:function(selectedDates,dateStr,instance){plekerror.clear_field_error(jQuery(instance.input).attr("id"))}};function ajaxPreloader(type){var datab=new FormData;datab.append("action","plek_ajax_event_form"),datab.append("type","get_"+type),jQuery.ajax({url:window.ajaxurl,data:datab,type:"POST",cache:!1,processData:!1,contentType:!1,success:function success(data){if(data.length<2)return toastr.error(__("Error loading data","pleklang")+": "+type,"Error"),!1;var jdata=JSON.parse(data);return console.log(type+"-Data loaded ("+Object.keys(jdata).length+")"),"bands"===type?void(window.bandPreloadedData=jdata):"venues"===type&&void(window.venuePreloadedData=jdata)},error:function error(data){return window.plekerror.display_info(__("Error loading data","pleklang")+": "+data,"Error"),!1}})}function show_end_date(){jQuery(".plek-multi-date").show()}function hide_end_date(){jQuery(".plek-multi-date").hide()}function disable_band_input(){jQuery("input#event_band").prop("disabled",!0),jQuery(".event-search-bar-container plek-button").addClass("disabled"),jQuery(".event-search-bar-container #event_band").addClass("disabled"),jQuery(".event-band-selection").hide()}function enable_band_input(){jQuery("input#event_band").prop("disabled",!1),jQuery(".event-search-bar-container plek-button").removeClass("disabled"),jQuery(".event-search-bar-container #event_band").removeClass("disabled"),jQuery(".event-band-selection").show()}jQuery(document).ready((function(){console.log("Ready!"),ajaxPreloader("bands"),ajaxPreloader("venues"),flatpickr("#event_start_date",flatpickr_options),flatpickr("#event_end_date",flatpickr_options),jQuery("#is_multiday").click((function(){jQuery(this).is(":checked")?show_end_date():hide_end_date()})),jQuery("#no_band").click((function(){jQuery(this).is(":checked")?(disable_band_input(),jQuery("#event-band-selection").hide()):(jQuery("#event-band-selection").show(),enable_band_input())})),jQuery("#event_start_date").change((function(){var start_date=jQuery("#event_start_date").val(),end_options=flatpickr_options;end_options.minDate=start_date,flatpickr("#event_end_date",end_options)})),jQuery("#plek-submit").click((function(event){event.preventDefault(),jQuery(this).prop("disabled",!0);var type=jQuery(this).data("type");window.plekevent.save_event(type)})),jQuery(".plek-search-input").focus((function(element){plektemplate.hide_overlay(),plektemplate.show_overlay(this)})),jQuery(".plek-search-input").keyup((function(element){var input_length;0!==jQuery(this).val().length?pleksearch.fire_search(this):window.plektemplate.hide_overlay()})),jQuery("input").on("keyup",(function(){plekerror.clear_field_error(jQuery(this).attr("id"))}))}));